{"title":"Flutter","slug":"Flutter","date":"2019-07-04T17:52:00.000Z","updated":"2019-07-04T18:25:29.241Z","comments":true,"path":"api/articles/Flutter.json","photos":[],"link":"","excerpt":"看了好久的官网，对于官方文档给的这个demo，始终不太明白，今天将报错百度了一下，终于解惑了。直接上demo1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>import &apos;package:flutter/material.dart&apos;;<br><br>void main() =&gt;runApp(MyApp());<br><br>class MyApp extends StatelessWidget&#123;<br>  @override <br>  Widget build(BuildContext context)&#123;<br>    return MaterialApp(<br>      home: Dlog()<br>    );<br>  &#125;<br>&#125;<br><br>class Dlog extends StatefulWidget &#123;<br>  @override<br>  _DlogState createState() =&gt; _DlogState();<br>&#125;<br><br>class _DlogState extends State&lt;Dlog&gt; &#123;<br>  @override<br>  Widget build(BuildContext context) &#123;<br>    return MaterialApp(<br>      home: Scaffold(<br>        body: Center(<br>          child: Container(<br>            child: MaterialButton(<br>              child: Text(&quot;点我一下&quot;),<br>              onPressed: ()&#123;<br>                showDialog(<br>                  context: context,<br>                  builder: (BuildContext context)&#123;<br>                    return SimpleDialog(<br>                      title: Text(&quot;我是title&quot;),<br>                      children: &lt;Widget&gt;[<br>                        SimpleDialogOption(<br>                          child: Text(&quot;选项一&quot;),<br>                          onPressed: ()&#123; print(&quot;选项一&quot;);&#125;,<br>                        ),<br>                        SimpleDialogOption(<br>                          child: Text(&quot;选项二&quot;),<br>                          onPressed: ()&#123; print(&quot;选项二&quot;);&#125;,<br>                        )<br>                      ],<br>                    );<br>                  &#125;<br>                ).then((val)&#123;<br>                  print(val);<br>                &#125;);<br>              &#125;,<br>            ),<br>          ),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br>一直过不去的坑是自己直接写了一个StatefluWidget去实现弹窗，点击按钮没有任何效果并且控制台报错 Another exception was thrown: No MaterialLocalizations found.<br>正确的写法应该是在外层套一个StatelessWidget的控件，这样才能正确实现flutter的弹窗。","covers":["/2019/07/05/Flutter/simpleDialogError.PNG","/2019/07/05/Flutter/image.PNG"],"content":"<p>看了好久的官网，对于官方文档给的这个demo，始终不太明白，今天将报错百度了一下，终于解惑了。直接上demo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">void main() =&gt;runApp(MyApp());</span><br><span class=\"line\"></span><br><span class=\"line\">class MyApp extends StatelessWidget&#123;</span><br><span class=\"line\">  @override </span><br><span class=\"line\">  Widget build(BuildContext context)&#123;</span><br><span class=\"line\">    return MaterialApp(</span><br><span class=\"line\">      home: Dlog()</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class Dlog extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _DlogState createState() =&gt; _DlogState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _DlogState extends State&lt;Dlog&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return MaterialApp(</span><br><span class=\"line\">      home: Scaffold(</span><br><span class=\"line\">        body: Center(</span><br><span class=\"line\">          child: Container(</span><br><span class=\"line\">            child: MaterialButton(</span><br><span class=\"line\">              child: Text(&quot;点我一下&quot;),</span><br><span class=\"line\">              onPressed: ()&#123;</span><br><span class=\"line\">                showDialog(</span><br><span class=\"line\">                  context: context,</span><br><span class=\"line\">                  builder: (BuildContext context)&#123;</span><br><span class=\"line\">                    return SimpleDialog(</span><br><span class=\"line\">                      title: Text(&quot;我是title&quot;),</span><br><span class=\"line\">                      children: &lt;Widget&gt;[</span><br><span class=\"line\">                        SimpleDialogOption(</span><br><span class=\"line\">                          child: Text(&quot;选项一&quot;),</span><br><span class=\"line\">                          onPressed: ()&#123; print(&quot;选项一&quot;);&#125;,</span><br><span class=\"line\">                        ),</span><br><span class=\"line\">                        SimpleDialogOption(</span><br><span class=\"line\">                          child: Text(&quot;选项二&quot;),</span><br><span class=\"line\">                          onPressed: ()&#123; print(&quot;选项二&quot;);&#125;,</span><br><span class=\"line\">                        )</span><br><span class=\"line\">                      ],</span><br><span class=\"line\">                    );</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                ).then((val)&#123;</span><br><span class=\"line\">                  print(val);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>一直过不去的坑是自己直接写了一个StatefluWidget去实现弹窗，点击按钮没有任何效果并且控制台报错 Another exception was thrown: No MaterialLocalizations found.<br>正确的写法应该是在外层套一个StatelessWidget的控件，这样才能正确实现flutter的弹窗。</p>\n<a id=\"more\"></a>\n\n<p>####错误示范：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">void main() =&gt;runApp(MyApp());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class MyApp extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _MyAppState createState() =&gt; _MyAppState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">class _MyAppState extends State&lt;MyApp&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return MaterialApp(</span><br><span class=\"line\">      home: Scaffold(</span><br><span class=\"line\">        body: Center(</span><br><span class=\"line\">          child: Container(</span><br><span class=\"line\">            child: MaterialButton(</span><br><span class=\"line\">              child: Text(&quot;点我一下&quot;),</span><br><span class=\"line\">              onPressed: ()&#123;</span><br><span class=\"line\">                showDialog(</span><br><span class=\"line\">                  context: context,</span><br><span class=\"line\">                  builder: (BuildContext context)&#123;</span><br><span class=\"line\">                    return SimpleDialog(</span><br><span class=\"line\">                      title: Text(&quot;我是title&quot;),</span><br><span class=\"line\">                      children: &lt;Widget&gt;[</span><br><span class=\"line\">                        SimpleDialogOption(</span><br><span class=\"line\">                          child: Text(&quot;选项一&quot;),</span><br><span class=\"line\">                          onPressed: ()&#123; print(&quot;选项一&quot;);&#125;,</span><br><span class=\"line\">                        ),</span><br><span class=\"line\">                        SimpleDialogOption(</span><br><span class=\"line\">                          child: Text(&quot;选项二&quot;),</span><br><span class=\"line\">                          onPressed: ()&#123; print(&quot;选项二&quot;);&#125;,</span><br><span class=\"line\">                        )</span><br><span class=\"line\">                      ],</span><br><span class=\"line\">                    );</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                ).then((val)&#123;</span><br><span class=\"line\">                  print(val);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>结果就抛出错误：<img src=\"/2019/07/05/Flutter/simpleDialogError.PNG\" alt=\"你看不到我\" title=\"错误信息\"></p>\n<p>#####踩坑记录之一 ，另外发现WebStorm写.md文件简直不要太舒服，强烈推荐！<br><img src=\"/2019/07/05/Flutter/image.PNG\" alt=\"webstorm写md文件截图\" title=\"webstorm写md文件截图\"></p>\n","categories":[],"tags":[{"name":"-Flutter","slug":"Flutter","count":1,"path":"api/tags/Flutter.json"}]}